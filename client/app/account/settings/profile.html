 <form class="form" name="form" ng-submit="changeProfile(form)" novalidate>
  <div class="form-group"
    ng-class="{ 'has-success': form.firstname.$valid && form.lastname.$valid && form.firstname.$dirty && form.lastname.$dirty, 'has-error': (form.firstname.$invalid || form.lastname.$invalid) && (form.lastname.$dirty || form.firstname.$dirty)}"
  >
    <label>Name</label>
    <div class="row">
      <div class="col-sm-6">
        <input type="text" name="firstname" placeholder="First Name"
              class="form-control" ng-model="user.firstname"
             required/>
      </div>
      <div class="col-sm-6">
        <input type="text" name="lastname" placeholder="Last Name" class="form-control" ng-model="user.lastname"
           required/>
      </div>
    </div>

    <p class="help-block" ng-show="(form.firstname.$invalid && form.firstname.$dirty) || (form.lastname.$invalid && form.lastname.$dirty)">
      A first and last name is required
    </p>
  </div>

   <div class="form-group"
    ng-class="{ 'has-success': form.email.$valid && form.email.$dirty, 'has-error': form.email.$invalid && form.email.$dirty}"
  >
    <label for="email">Email</label>
    <input type="email" name="email" id="email"
          placeholder="Email" class="form-control" ng-model="user.email"
          required
          mongoose-error/>
    <p class="help-block" ng-show="form.email.$error.email && form.email.$dirty">
        Doesn't look like a valid email.
    </p>
    <p class="help-block" ng-show="form.email.$error.required && form.email.$dirty">
        What's your email address?
    </p>
    <p class="help-block" ng-show="form.email.$error.mongoose && form.email.$dirty">
        {{ errors.email }}
    </p>
  </div>

  <div class="form-group">
    <div class="row">
      <div class="col-sm-6">
        <label>Pin Photo</label>
        <input
              type="file"
              ngf-select ng-model="file"
              name="photo"
              ngf-pattern="'image/*'"
              accept="image/*" ngf-max-size="20MB" ngf-min-height="50"
              ngf-resize="{width: 100, height: 100}"
        />

      </div>
      <div class="col-sm-6">
        <img
            ngf-thumbnail="file || user.photo || '/static/mapn/profile.png'"
            class="profile-photo pull-right"
        />
      </div>
    </div>
  </div>

  <hr />

  <div class="form-group">
    <button class="btn btn-lg btn-primary" type="submit">Save changes</button>
  </div>
</form>
